(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{19:function(e,t,n){e.exports=n(33)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),u=n(9),l=(n(24),n(25),n(26),n(6)),s=n(3),i=n.n(s),m=n(8),p=n(1),d="https://mate-api.herokuapp.com",f=function(e){return fetch("".concat(d,"/todos/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},b=function(){var e=Object(m.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(d,"/todos/").concat(t),{method:"PATCH",body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){var t=e.todo,n=e.updateTodos,c=Object(a.useState)(t.completed),o=Object(l.a)(c,2),u=o[0],s=o[1],p=Object(a.useState)(""),d=Object(l.a)(p,2),h=d[0],E=d[1],v=Object(a.useState)(t.title),j=Object(l.a)(v,2),O=j[0],x=j[1];Object(a.useEffect)((function(){s(t.completed)}),[t]);var y=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.id,{completed:!t.completed});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.id);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(a.useRef)(null),N=function(){var e=Object(m.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.target,h){e.next=3;break}return e.abrupt("return");case 3:if(r.value.trim()){e.next=8;break}return e.next=6,f(t.id);case 6:return n(),e.abrupt("return");case 8:return e.next=10,b(t.id,{title:r.value});case 10:E(""),n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:"".concat(u?"completed":""," ").concat(h)},r.a.createElement("div",{className:"view"},r.a.createElement("input",{type:"checkbox",className:"toggle",checked:u,onChange:y}),r.a.createElement("label",{onDoubleClick:function(){E("editing"),setTimeout((function(){return g.current.focus()}),0)}},t.title),r.a.createElement("button",{type:"button",className:"destroy",onClick:k})),r.a.createElement("input",{type:"text",className:"edit",ref:g,onChange:function(e){var t=e.target;x(t.value)},value:O,onBlur:N,onKeyDown:function(e){13===e.keyCode?N(e):27===e.keyCode&&E("")}}))},E=function(e){var t=e.todos,n=e.updateTodos;return r.a.createElement("ul",{className:"todo-list"},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(h,{todo:e,updateTodos:n}))})))},v=function(e){var t=e.todos,n=e.updateTodos,c=Object(a.useState)(""),o=Object(l.a)(c,2),u=o[0],s=o[1],f=Object(a.useState)(!1),h=Object(l.a)(f,2),v=h[0],j=h[1],O=Object(a.useState)(t&&t.every((function(e){return!0===e.completed}))),x=Object(l.a)(O,2),y=x[0],k=x[1];Object(a.useEffect)((function(){k(t&&t.every((function(e){return!0===e.completed})))}),[t]);var g=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u.trim()){e.next=3;break}return e.abrupt("return",j(!0));case 3:return a={userId:1233,completed:!1,title:u},s(""),e.next=7,r=a,fetch("".concat(d,"/todos/"),{method:"POST",body:JSON.stringify(r)});case 7:n();case 8:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return b(e.id,{completed:!y})})));case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos"),r.a.createElement("form",{onSubmit:g},r.a.createElement("input",{type:"text",className:"new-todo ".concat(v&&"error"),placeholder:"What needs to be done?",value:u,onChange:function(e){var t=e.target;s(t.value),j(!1)}}))),r.a.createElement("section",{className:"main"},r.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:N,checked:y}),r.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),t&&r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0},r.a.createElement(E,{todos:t,updateTodos:n})),r.a.createElement(p.a,{path:"/active",exact:!0},r.a.createElement(E,{todos:t.filter((function(e){return!1===e.completed})),updateTodos:n})),r.a.createElement(p.a,{path:"/completed",exact:!0},r.a.createElement(E,{todos:t.filter((function(e){return!0===e.completed})),updateTodos:n})))))},j=function(e){var t=e.todos,n=e.updateTodos,c=Object(a.useState)(""),o=Object(l.a)(c,2),s=o[0],p=o[1];Object(a.useEffect)((function(){t&&p(t.reduce((function(e,t){return t.completed?e:e+1}),0))}),[t]);var d=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return e.completed?f(e.id):e})));case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},"".concat(s,"  "),"items left"),r.a.createElement("ul",{className:"filters"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",exact:!0,activeClassName:"selected"},"All")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/active",activeClassName:"selected"},"Active")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/completed",activeClassName:"selected"},"Completed"))),r.a.createElement("button",{type:"button",className:"clear-completed",onClick:d},"Clear completed"))};var O=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){fetch("".concat(d,"/todos?userId=").concat("1233")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return c(e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"todoapp"},r.a.createElement(v,{todos:n,updateTodos:o}),!!n.length&&r.a.createElement(j,{todos:n,updateTodos:o})))};o.a.render(r.a.createElement(u.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a7e58fee.chunk.js.map